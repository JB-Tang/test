# Node学习
## 2022-03-07
1. 包镜像源
    * 代码示例
        ```javascript
        //查看当前包镜像源
        npm config get registry
        //设置当前包镜像源是淘宝镜像
        npm config set registry=https://registry.npm.taobao.org/
        ```  
2. npx
    * npx：npm5.2之后发布的一个命令
    * 使用原因
        * 在命令行执行本地已安装的依赖包命令
            * 使用npx可以在命令行直接执行本地已安装的依赖包命令，而不用在scripts脚本写入命令，也不用麻烦的去找本地脚本
            * 传统的执行命令
                * 方法一：使用package.json的scripts脚本
                * 方法二：安装全局模块
                * 方法三：安装模块的更目录下执行
            * 使用npx执行命令
                * 直接 npx 模块命令
        * 避免全局安装模块
            * 有很多命令，我们只需要执行一次，但是却要全局安装一次，这很不科学，使用npx，可以在不全局安装依赖包的情况下，运行命令，而且运行后不会污染全局环境
        * 切换node版本来运行命令
            * 当你想要运行的命令不兼容当前的nodejs版本，可以通过npx来切换版本，指定某个版本的Node来运行命令
    * 原理
        * npx在运行时，会执行以下的流程
            * 去node_modules/.bin路径检查npx后的命令是否存在，找到后执行；
            * 找不到的话，就去环境变量$PATH里面，检查npx后的命令是否存在，找到后执行；（以上两步对应使用原因中的可直接执行命令）
            * 还是找不到的情况下，自动下载一个临时的依赖包最新版本在一个临时目录，然后再运行命令，运行后删除，不污染全局环境。（对应使用原因中的避免全局安装模块和切换node版本）
    * 安装和参数说明
        * -p ：指定npx所要安装的模块
        * -c ：
            * 默认-p情况下，只有第一个可执行项会使用npx安装的模块，后面的可执行项还是会交给Shell解释，使用-c的话，可以将所有命令都交给npx解释
            * 将环境变量代入要执行的命令
        * -no-install :强制使用本地模块，不下载远程模块，如果本地不存在该模块，就会报错
        * -ignore-existing ：忽略本地的同名模块，强制安装使用远程模块
    * 使用场景
        * 使用npx执行本地命令
        * 使用npx执行一次性命令
        * 使用npx切换node版本
        * 使用npx执行GitHub源码
            * 注：远程代码必须是一个模块，即必须包含package.json和入口脚本
        * 使用npx开启一个静态服务器
    * 参考网址：
        * http://www.ruanyifeng.com/blog/2019/02/npx.html
        * https://www.jianshu.com/p/14c813bba544


## 待整理知识点
1. npm install(默认, --save, -D)
2. npm init
3. package.json文件
